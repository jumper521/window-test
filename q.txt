import boto3

def lambda_handler(event, context):
    # RDSクラスターの識別子を指定
    cluster_identifier = 'YOUR_RDS_CLUSTER_IDENTIFIER'

    # RDSクライアントを作成
    rds_client = boto3.client('rds')

    try:
        # RDSクラスターを削除
        response = rds_client.delete_db_cluster(
            DBClusterIdentifier=cluster_identifier,
            SkipFinalSnapshot=True  # 最終スナップショットを作成しない場合
        )

        # 削除リクエストの応答を確認
        if 'DBCluster' in response and response['DBCluster']['Status'] == 'deleting':
            return f'RDS cluster {cluster_identifier} deletion request accepted.'
        else:
            return f'Failed to initiate deletion of RDS cluster {cluster_identifier}.'
    except Exception as e:
        return f'Error: {str(e)}'
