import boto3

def check_rds_cluster_status(cluster_identifier):
    rds_client = boto3.client('rds')
    
    try:
        response = rds_client.describe_db_clusters(DBClusterIdentifier=cluster_identifier)
        if len(response['DBClusters']) == 0:
            return False  # クラスターが存在しない場合はFalseを返す
        return True  # クラスターが存在する場合はTrueを返す
    except Exception as e:
        return False

def lambda_handler(event, context):
    cluster_identifier = 'YOUR_CLUSTER_IDENTIFIER'

    if not check_rds_cluster_status(cluster_identifier):
        # クラスターが存在しない場合、HTTP 200を返して終了
        return {
            'statusCode': 200,
            'body': 'RDSクラスターは存在しません。'
        }
    else:
        # クラスターが存在する場合、HTTP 500を返して終了
        return {
            'statusCode': 500,
            'body': f'RDSクラスター {cluster_identifier} は存在します。'
        }
