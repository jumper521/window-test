import boto3

def lambda_handler(event, context):
    # RDSクラスターの識別子を指定します
    rds_cluster_identifier = 'YOUR_RDS_CLUSTER_IDENTIFIER'

    # AWSリージョンを指定します
    region = 'us-east-1'  # クラスターが存在するリージョンに合わせて変更してください

    # Boto3のRDSクラスタークライアントを作成します
    rds_client = boto3.client('rds', region_name=region)

    try:
        # RDSクラスターを削除します
        response = rds_client.delete_db_cluster(
            DBClusterIdentifier=rds_cluster_identifier,
            SkipFinalSnapshot=True  # 最終スナップショットを作成しない場合はTrueに設定
        )

        # 削除が正常に完了した場合
        return {
            'statusCode': 200,
            'body': f"RDSクラスター {rds_cluster_identifier} の削除が正常に完了しました。"
        }
    except Exception as e:
        # エラーメッセージを返します
        return {
            'statusCode': 500,
            'body': f"RDSクラスター {rds_cluster_identifier} の削除中にエラーが発生しました: {str(e)}"
        }
